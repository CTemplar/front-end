<div class="mail-composer is-sticky is-fullscreenx is-minimizedx is-maximizedx" [class.is-active]="isComposeVisible">
    <div class="mail-composer-dialog">
        <div class="mail-composer-header">
            <div class="mail-composer-title">New message</div>
            <div class="mail-composer-header-actions">
                <div class="mail-actions-list">
                    <div class="mail-actions-item">
                        <button role="button" placement="top" ngbTooltip="Minimize">
                            <i class="icon icon-minimize"></i>
                        </button>
                    </div>
                    <div class="mail-actions-item">
                        <button role="button" placement="top" ngbTooltip="Close"
                                (click)="onClose(confirmDiscardModal);">
                            <i class="icon icon-cross"></i>
                        </button>
                    </div>
                </div>
            </div>
        </div>
        <div class="mail-composer-body">
            <form>
                <div class="mail-compose-field-group">
                    <div class="mail-compose-field">
                        <span class="mail-label label-to">To:</span>
                        <textarea class="mail-compose-control" id="recepietTo" rows="1">johndoe@gmail.com</textarea>
                        <div class="extra-mail-label">
                            <span class="mail-label mail-floated-label">Cc</span>
                            <span class="mail-label mail-floated-label mr-0">Bcc</span>
                        </div>
                    </div>
                    <div class="mail-compose-field border-bottom-0 d-none">
                        <span class="mail-label label-cc">Cc:</span>
                        <textarea class="mail-compose-control" id="recepietCc" rows="1">johndoe@gmail.com</textarea>
                    </div>
                    <div class="mail-compose-field d-none">
                        <span class="mail-label label-bcc">Bcc:</span>
                        <textarea class="mail-compose-control" id="recepietBcc" rows="1">johndoe@gmail.com</textarea>
                    </div>
                    <div class="mail-compose-field">
                        <span class="mail-label label-subject">Subject:</span>
                        <textarea class="mail-compose-control" id="subject" rows="1">Re: Welcome to CTemplar!</textarea>
                    </div>
                </div>
            </form>
            <div class="mail-compose-editable-body">
                <div class="mail-compose-box has-custom-scroll">
                    <div class="mail-compose-box-inner">
                        <div #editor class="mail-compose-editable-box" contenteditable="true">
                        </div>
                        <div class="attach-uploader-holder">
                            <div class="attach-uploader">
                                <div class="attach-name">filename.doc
                                    <span class="attach-size">(340 K) </span>
                                </div>
                                <button role="button" class="attach-uploader-close" placement="top" ngbTooltip="Remove">
                                    <i class="icon icon-cross"></i>
                                </button>
                            </div>
                            <div class="attach-uploader">
                                <div class="attach-name">other_filename.doc
                                    <span class="attach-size">(1,556 K) </span>
                                </div>
                                <div class="progress">
                                    <div class="progress-bar" role="progressbar" style="width:45%;" aria-valuenow="45"
                                         aria-valuemin="0" aria-valuemax="100"></div>
                                </div>
                                <button role="button" class="attach-uploader-close" placement="top" ngbTooltip="Remove">
                                    <i class="icon icon-cross"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="mail-composer-footer">
            <div class="mail-composer-actions-row d-flex align-items-center">
                <div class="mail-composer-actions-col mail-composer-actions-col-lg">
                    <ul class="mail-composer-actions d-flex align-items-center">
                        <li>
                            <button role="button" class="actions-btn mail-attach-btn" placement="top"
                                    ngbTooltip="Attachments"><i class="icon icon-attachment"></i></button>
                        </li>
                        <li class="pr-0">
                            <button role="button" class="actions-btn mail-envelop-btn border-right-0 border-radius-r-0"
                                    placement="top" ngbTooltip="Encryption"><i class="icon icon-mail"></i></button>
                        </li>
                        <li class="px-0">
                            <button role="button" class="actions-btn mail-clock-btn border-right-0 border-radius-0"
                                    placement="top" ngbTooltip="Self-destructing timer"><i class="icon icon-clock"></i>
                            </button>
                        </li>
                        <li class="px-0">
                            <button role="button" class="actions-btn mail-sign-btn border-right-0 border-radius-0"
                                    placement="top" ngbTooltip="Signature"><i class="icon icon-sign"></i></button>
                        </li>
                        <li class="pl-0">
                            <div ngbDropdown placement="top" class="dropdown">
                                <button ngbDropdownToggle
                                        class="hide-arrow actions-btn mail-self-timer-btn border-radius-l-0"
                                        id="delayedTimerDropdownMenu" role="button" placement="top"
                                        ngbTooltip="Delayed delivery"><i class="icon icon-self-timer"></i></button>
                                <div ngbDropdownMenu class="dropdown-menu timer-dropdown-menu  bg-faded"
                                     aria-labelledby="delayedTimerDropdownMenu">
                                    <button role="button" class="close"><i class="icon icon-cross"></i></button>
                                    <div class="timer-dropdown-content">
                                        <div class="dropdown-header">
                                            <div class="dropdown-menu-title text-dark text-center"><strong>Delayed
                                                Delivery</strong></div>
                                        </div>
                                        <div class="dropdown-body">
                                            <div class="timer-set-content">
                                                <div class="timer-set-title">Email will be sent after set time</div>
                                                <div class="timer-set-row d-flex align-items-center">
                                                    <div class="timer-set-col">
                                                        <span class="timer-set-label ml-0">after</span>
                                                        <span ngbDropdown placement="top" class="dropdown">
															<button ngbDropdownToggle class="actions-btn bg-white"
                                                                    id="daysTimerDropdownMenu" role="button">1</button>
															<div ngbDropdownMenu class="left-0"
                                                                 aria-labelledby="daysTimerDropdownMenu">
																<a href="" class="dropdown-link">1</a>
																<a href="" class="dropdown-link">2</a>
																<a href="" class="dropdown-link">3</a>
																<a href="" class="dropdown-link">4</a>
																<a href="" class="dropdown-link">5</a>
																<a href="" class="dropdown-link">6</a>
																<a href="" class="dropdown-link">7</a>
															</div>
														</span>
                                                        <span class="timer-set-label mr-0">Days</span>
                                                    </div>
                                                    <div class="timer-set-col">
														<span ngbDropdown placement="top" class="dropdown">
															<button ngbDropdownToggle class="actions-btn bg-white"
                                                                    id="hoursTimerDropdownMenu" role="button">1</button>
															<div ngbDropdownMenu class="left-0"
                                                                 aria-labelledby="hoursTimerDropdownMenu">
																<a href="" class="dropdown-link">1</a>
																<a href="" class="dropdown-link">2</a>
																<a href="" class="dropdown-link">3</a>
																<a href="" class="dropdown-link">4</a>
																<a href="" class="dropdown-link">5</a>
																<a href="" class="dropdown-link">6</a>
																<a href="" class="dropdown-link">7</a>
															</div>
														</span>
                                                        <span class="timer-set-label mr-0">Hours</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="dropdown-footer text-center">
                                            <a href="" class="btn btn-sm btn-secondary">Schedule</a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </li>
                        <li>
                            <div ngbDropdown placement="top" class="dropdown">
                                <button ngbDropdownToggle class="hide-arrow actions-btn mail-dead-btn border-radius-l-0"
                                        id="delayedTimerDropdownMenu" role="button" placement="top"
                                        ngbTooltip="Dead Man's timer"><i class="icon icon-dead"></i></button>
                                <div ngbDropdownMenu class="dropdown-menu timer-dropdown-menu  bg-faded"
                                     aria-labelledby="delayedTimerDropdownMenu">
                                    <button role="button" class="close"><i class="icon icon-cross"></i></button>
                                    <div class="timer-dropdown-content">
                                        <div class="dropdown-header">
                                            <div class="dropdown-menu-title text-dark text-center"><strong>Dead Man's
                                                Timer</strong></div>
                                        </div>
                                        <div class="dropdown-body">
                                            <div class="timer-set-content">
                                                <div class="timer-set-title">If you do not log into your account after
                                                    this set time, the email will be sent
                                                </div>
                                                <div class="timer-set-row d-flex align-items-center">
                                                    <div class="timer-set-col">
                                                        <span class="timer-set-label ml-0">in</span>
                                                        <span ngbDropdown placement="top" class="dropdown">
															<button ngbDropdownToggle class="actions-btn bg-white"
                                                                    id="daysTimerDropdownMenu" role="button">1</button>
															<div ngbDropdownMenu class="left-0"
                                                                 aria-labelledby="daysTimerDropdownMenu">
																<a href="" class="dropdown-link">1</a>
																<a href="" class="dropdown-link">2</a>
																<a href="" class="dropdown-link">3</a>
																<a href="" class="dropdown-link">4</a>
																<a href="" class="dropdown-link">5</a>
																<a href="" class="dropdown-link">6</a>
																<a href="" class="dropdown-link">7</a>
															</div>
														</span>
                                                        <span class="timer-set-label mr-0">Days</span>
                                                    </div>
                                                    <div class="timer-set-col">
														<span ngbDropdown placement="top" class="dropdown">
															<button ngbDropdownToggle class="actions-btn bg-white"
                                                                    id="hoursTimerDropdownMenu" role="button">1</button>
															<div ngbDropdownMenu class="left-0"
                                                                 aria-labelledby="hoursTimerDropdownMenu">
																<a href="" class="dropdown-link">1</a>
																<a href="" class="dropdown-link">2</a>
																<a href="" class="dropdown-link">3</a>
																<a href="" class="dropdown-link">4</a>
																<a href="" class="dropdown-link">5</a>
																<a href="" class="dropdown-link">6</a>
																<a href="" class="dropdown-link">7</a>
															</div>
														</span>
                                                        <span class="timer-set-label mr-0">Hours</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="dropdown-footer text-center">
                                            <a href="" class="btn btn-sm btn-secondary">Schedule</a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </li>
                        <li>
                            <button role="button" class="actions-btn mail-keyboard-btn" placement="top"
                                    ngbTooltip="On-screen keyboard"><i class="icon icon-keyboard-show"></i></button>
                        </li>
                        <li>
                            <div ngbDropdown placement="top" class="dropdown">
                                <button ngbDropdownToggle class="actions-btn mail-typo-btn hide-arrow"
                                        id="typoDropdownMenu" role="button" placement="top"
                                        ngbTooltip="Text formatting"><i class="icon icon-text-color"></i></button>
                                <div ngbDropdownMenu class="typo-actions-dropdown-menu is-centered"
                                     aria-labelledby="typoDropdownMenu">
                                    <div #toolbar class="mail-comopser-typo-actions-holder">
                                        <ul class="mail-composer-actions d-flex align-items-center justify-content-end">
                                            <li class="pr-0">
                                                <div ngbDropdown placement="top" class="dropup">
                                                    <button ngbDropdownToggle role="button"
                                                            class="actions-btn mail-font-family-btn border-right-0 border-radius-r-0"
                                                            id="typoFamilyDropdownMenu" role="button"><i
                                                            class="icon icon-text-size"></i></button>
                                                    <div ngbDropdownMenu class="typo-family-dropdown-menu"
                                                         aria-labelledby="typoFamilyDropdownMenu">
                                                        <div class="typo-holder">
                                                            <ul class="typo-list list-styled">
                                                                <li>
                                                                    <button value="hiragino-sans"
                                                                            class="ql-font typo-select-link">Hiragino
                                                                        Sans
                                                                    </button>
                                                                </li>
                                                                <li>
                                                                    <button value="lato"
                                                                            class="ql-font typo-select-link">Lato
                                                                    </button>
                                                                </li>
                                                                <li>
                                                                    <button value="roboto"
                                                                            class="ql-font typo-select-link">Roboto
                                                                    </button>
                                                                </li>
                                                                <li>
                                                                    <button value="abril-fatface"
                                                                            class="ql-font typo-select-link">Abril
                                                                        Fatface
                                                                    </button>
                                                                </li>
                                                                <li>
                                                                    <button value="andale-mono"
                                                                            class="ql-font typo-select-link">Andale Mono
                                                                    </button>
                                                                </li>
                                                                <li>
                                                                    <button value="arial"
                                                                            class="ql-font typo-select-link">Arial
                                                                    </button>
                                                                </li>
                                                                <li>
                                                                    <button value="times-new-roman"
                                                                            class="ql-font typo-select-link">Times New
                                                                        Roman
                                                                    </button>
                                                                </li>
                                                            </ul>
                                                        </div>
                                                    </div>
                                                </div>
                                            </li>
                                            <li class="pl-0">
                                                <div ngbDropdown placement="top" class="dropup">
                                                    <button ngbDropdownToggle role="button"
                                                            class="actions-btn mail-font-family-btn"
                                                            id="typoFamilyDropdownMenu"><i
                                                            class="icon icon-text-size-alt"></i></button>
                                                    <div ngbDropdownMenu class="typo-size-dropdown-menu"
                                                         aria-labelledby="typoFamilyDropdownMenu">
                                                        <div class="typo-holder">
                                                            <ul class="typo-list list-styled">
                                                                <li>
                                                                    <button value="small"
                                                                            class="ql-size typo-select-link is-small">
                                                                        Small
                                                                    </button>
                                                                </li>
                                                                <li>
                                                                    <button value=""
                                                                            class="ql-size typo-select-link is-normal">
                                                                        Normal
                                                                    </button>
                                                                </li>
                                                                <li>
                                                                    <button value="large"
                                                                            class="ql-size typo-select-link is-large">
                                                                        Large
                                                                    </button>
                                                                </li>
                                                                <li>
                                                                    <button value="huge"
                                                                            class="ql-size typo-select-link is-huge">
                                                                        Huge
                                                                    </button>
                                                                </li>
                                                            </ul>
                                                        </div>
                                                    </div>
                                                </div>
                                            </li>

                                            <li class="pr-0">
                                                <button role="button"
                                                        class="ql-bold actions-btn mail-bold-btn border-right-0 border-radius-r-0">
                                                    <i class="icon icon-bold"></i></button>
                                            </li>
                                            <li class="px-0">
                                                <button role="button"
                                                        class="ql-italic actions-btn mail-italic-btn border-right-0 border-radius-0">
                                                    <i class="icon icon-italic"></i></button>
                                            </li>
                                            <li class="px-0">
                                                <button role="button"
                                                        class="ql-underline actions-btn mail-underline-btn border-right-0 border-radius-0">
                                                    <i class="icon icon-underline"></i></button>
                                            </li>
                                            <li class="pl-0">
                                                <div ngbDropdown placement="top" class="dropdown">
                                                    <button ngbDropdownToggle
                                                            class="actions-btn mail-font-color-btn border-radius-l-0"
                                                            id="typoColorDropdownMenu" role="button"><i
                                                            class="icon icon-text-color"></i></button>
                                                    <div ngbDropdownMenu class="left-0"
                                                         aria-labelledby="typoColorDropdownMenu">
                                                        <div class="color-picker-holder">
                                                            <div class="row">
                                                                <div class="col-sm-6 mb-3 mb-sm-0">
                                                                    <div class="color-picker">
                                                                        <div class="color-picker-title"><strong>Background
                                                                            Color</strong></div>
                                                                        <ul class="color-picker-list d-flex flex-wrap">
                                                                            <li *ngFor="let color of colors">
                                                                                <button class="ql-background color-shape"
                                                                                        [class.border-lightgrey]="color==='#ffffff'"
                                                                                        [value]="color"
                                                                                        [style.background]="color"></button>
                                                                            </li>
                                                                        </ul>
                                                                    </div>
                                                                </div>

                                                                <div class="col-sm-6 mb-3 mb-sm-0">
                                                                    <div class="color-picker">
                                                                        <div class="color-picker-title"><strong>Text
                                                                            Color</strong></div>
                                                                        <ul class="color-picker-list d-flex flex-wrap">
                                                                            <li *ngFor="let color of colors">
                                                                                <button class="ql-color color-shape"
                                                                                        [class.border-lightgrey]="color==='#ffffff'"
                                                                                        [value]="color"
                                                                                        [style.background]="color"></button>
                                                                            </li>
                                                                        </ul>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </li>

                                            <li class="pr-0">
                                                <button role="button"
                                                        class="ql-align actions-btn mail-align-right-btn border-right-0 border-radius-r-0"
                                                        value="right">
                                                    <i class="icon icon-text-align-right"></i></button>
                                            </li>
                                            <li class="px-0">
                                                <button role="button"
                                                        class="ql-align actions-btn mail-align-center-btn border-right-0 border-radius-0"
                                                        value="center">
                                                    <i class="icon icon-text-align-center"></i></button>
                                            </li>
                                            <li class="pl-0">
                                                <button role="button"
                                                        class="ql-align actions-btn mail-align-left-btn border-radius-l-0">
                                                    <i class="icon icon-text-align-left"></i></button>
                                            </li>

                                            <li class="pr-0">
                                                <button role="button"
                                                        class="ql-list actions-btn mail-unorder-list-btn border-right-0 border-radius-r-0"
                                                        value="bullet">
                                                    <i class="icon icon-unorder-list"></i></button>
                                            </li>
                                            <li class="px-0">
                                                <button role="button"
                                                        class="ql-list actions-btn mail-order-list-btn border-right-0 border-radius-0"
                                                        value="ordered">
                                                    <i class="icon icon-ordered-list"></i></button>
                                            </li>
                                            <li class="px-0">
                                                <button role="button"
                                                        class="ql-indent actions-btn mail-indent-decrease-btn border-right-0 border-radius-0"
                                                        value="-1">
                                                    <i class="icon icon-indent-decrease"></i></button>
                                            </li>
                                            <li class="px-0">
                                                <button role="button"
                                                        class="ql-indent actions-btn mail-indent-increase-btn border-right-0 border-radius-0"
                                                        value="+1">
                                                    <i class="icon icon-indent-increase"></i></button>
                                            </li>
                                            <li class="pl-0">
                                                <button role="button"
                                                        class="ql-blockquote actions-btn mail-quote-right-btn border-radius-l-0">
                                                    <i
                                                            class="icon icon-quote-right"></i></button>
                                            </li>

                                            <li>
                                                <button role="button"
                                                        class="ql-clean actions-btn mail-format-clear-btn"><i
                                                        class="icon icon-format-clear"></i></button>
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </li>
                    </ul>
                </div>
                <div class="mail-composer-actions-col mail-composer-actions-col-sm">
                    <ul class="mail-composer-actions d-flex align-items-center justify-content-end">
                        <li class="pr-0">
                            <button role="button"
                                    (click)="saveInDrafts()"
                                    class="actions-btn mail-save-disk-btn border-right-0 border-radius-r-0"
                                    placement="top" ngbTooltip="Save to drafts"><i class="icon icon-save-disk"></i>
                            </button>
                        </li>
                        <li class="pl-0">
                            <button role="button"
                                    (click)="discardEmail()"
                                    class="actions-btn mail-garbage-btn border-radius-l-0" placement="top"
                                    ngbTooltip="Delete draft"><i class="icon icon-garbage"></i></button>
                        </li>
                        <li class="send-mail-item">
                            <button class="btn btn-sm btn-secondary btn-mail-send btn-xs-rounded" role="button"
                                    placement="top" ngbTooltip="Send Mail"><i
                                    class="hidden-sm-up icon icon-paper-plane"></i><span
                                    class="hidden-xs-down">Send</span></button>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Confirm discard email modal -->
<ng-template #confirmDiscardModal let-c="close" let-d="dismiss">
    <div class="modal-header">
        <h3 class="modal-title w-100 text-dark"><strong>Confirm Discard</strong></h3>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close" (click)="d()">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body bg-faded">
        <div class="mail-actions-form-holder modal-mail-actions-form-holder">
            <div class="form-group">
                Are you sure, you want to discard this email?
            </div>
            <div class="form-group text-right mb-0">
                <button (click)="cancelDiscard()" class="btn btn-secondary btn-sm" role="button">Cancel</button>
                <button (click)="saveInDrafts()" class="btn btn-success btn-sm" role="button">Save in Drafts</button>
                <button (click)="discardEmail()" class="btn btn-danger btn-sm" role="button">Discard</button>
            </div>
        </div>
    </div>
</ng-template><!-- /.Confirm discard email modal ends -->
